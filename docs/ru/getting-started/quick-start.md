# Быстрый старт

Запустите CulicidaeLab Server за несколько минут с помощью этого руководства по быстрому старту.

## Предварительные требования

Перед началом убедитесь, что вы завершили [процесс установки](installation.md).

## Запуск приложения

CulicidaeLab Server состоит из двух основных компонентов, которые должны работать:

### 1. Запуск бэкенд API сервера

Откройте терминал и перейдите в директорию вашего проекта:

```bash
cd culicidaelab-server
source .venv/bin/activate  # На Windows: .venv\Scripts\activate
uvicorn backend.main:app --port 8000 --host 127.0.0.1
```

Бэкенд API будет доступен по адресу:
- **Базовый API:** `http://localhost:8000`
- **Интерактивная документация API (Swagger):** `http://localhost:8000/docs`
- **Альтернативная документация API (ReDoc):** `http://localhost:8000/redoc`

### 2. Запуск фронтенд приложения

Откройте **новый терминал** и перейдите в директорию вашего проекта:

```bash
cd culicidaelab-server
source .venv/bin/activate  # На Windows: .venv\Scripts\activate
solara run frontend.main
```

Фронтенд приложение будет доступно по адресу `http://localhost:8765` (или порт, показанный в вашем терминале).

## Первые шаги

### 1. Изучение веб-интерфейса

1. Откройте браузер и перейдите на `http://localhost:8765`
2. Вы увидите домашнюю страницу CulicidaeLab Server с навигацией по различным функциям
3. Изучите основные разделы:
   - **Предсказание видов:** Загрузите изображения комаров для идентификации с помощью ИИ
   - **Интерактивная карта:** Просмотрите наблюдения комаров и данные о распространении
   - **Галерея видов:** Просмотрите информацию о различных видах комаров
   - **Информация о болезнях:** Узнайте о болезнях, переносимых комарами

### 2. Тестирование предсказания видов

1. Перейдите на страницу предсказания видов
2. Загрузите изображение комара (поддерживаются форматы JPEG, PNG)
3. Дождитесь обработки изображения моделью ИИ
4. Просмотрите результаты предсказания с оценками уверенности

### 3. Изучение интерактивной карты

1. Перейдите на страницу визуализации карты
2. Просмотрите примеры данных наблюдений, отображенных на интерактивной карте
3. Нажмите на маркеры, чтобы увидеть подробную информацию о наблюдениях
4. Используйте элементы управления картой для масштабирования и панорамирования по различным регионам

### 4. Просмотр документации API

1. Посетите `http://localhost:8000/docs` для интерактивной документации API
2. Изучите доступные конечные точки:
   - `/predict/species` - Предсказание видов по изображениям
   - `/observations` - Данные наблюдений комаров
   - `/species` - Информация о видах
   - `/diseases` - Информация о болезнях
3. Попробуйте конечные точки API прямо из интерфейса документации

## Примеры базового использования

### Выполнение API вызовов

Вы можете взаимодействовать с API, используя curl, Python requests или любой HTTP клиент:

```bash
# Получить все виды
curl http://localhost:8000/species

# Получить наблюдения с ограничением
curl http://localhost:8000/observations?limit=10

# Получить информацию о болезнях
curl http://localhost:8000/diseases
```

### Использование Python API

```python
import requests

# Получить данные о видах
response = requests.get("http://localhost:8000/species")
species_data = response.json()

# Загрузить изображение для предсказания (пример)
with open("mosquito_image.jpg", "rb") as f:
    files = {"file": f}
    response = requests.post("http://localhost:8000/predict/species", files=files)
    prediction = response.json()
```

## Конфигурация

### Базовая конфигурация

Приложение использует настройки по умолчанию, которые работают для большинства сценариев разработки. Для пользовательской конфигурации:

1. **Конфигурация бэкенда:** Отредактируйте файл `backend/.env`
2. **Конфигурация фронтенда:** Измените `frontend/config.py`

### Общие параметры конфигурации

- **Порт API:** Измените порт бэкенда, изменив команду `uvicorn`
- **Порт фронтенда:** Solara автоматически выберет доступный порт
- **Путь к базе данных:** Настройте путь LanceDB в конфигурации бэкенда
- **Настройки модели:** Настройте параметры модели ИИ в конфигурации бэкенда

## Устранение неполадок

### Приложение не запускается

1. **Проверьте окружение Python:**
   ```bash
   python --version  # Должно показать Python 3.11.x
   which python      # Должно указывать на вашу виртуальную среду
   ```

2. **Проверьте зависимости:**
   ```bash
   pip list | grep fastapi
   pip list | grep solara
   ```

3. **Проверьте доступность портов:**
   - Убедитесь, что порты 8000 и 8765 не используются другими приложениями
   - При необходимости используйте другие порты: `uvicorn backend.main:app --port 8001`

### Проблемы с производительностью

1. **GPU не обнаружен:**
   - Проверьте драйверы NVIDIA и установку CUDA
   - Приложение автоматически переключится на обработку CPU

2. **Медленные предсказания:**
   - Убедитесь, что GPU правильно настроен для более быстрого вывода
   - Рассмотрите использование изображений меньшего размера для более быстрой обработки

3. **Проблемы с памятью:**
   - Уменьшите размеры батчей в конфигурации модели
   - Закройте другие приложения, потребляющие много памяти

### Распространенные сообщения об ошибках

- **"Module not found":** Убедитесь, что виртуальная среда активирована и зависимости установлены
- **"Port already in use":** Измените номер порта или остановите конфликтующий процесс
- **"Database not found":** Запустите скрипт инициализации базы данных снова

## Следующие шаги

Теперь, когда у вас работает CulicidaeLab Server:

1. **Узнайте больше:** Прочитайте [Руководство пользователя](../user-guide/overview.md) для подробной документации функций
2. **Разработка:** Ознакомьтесь с [Руководством разработчика](../developer-guide/architecture.md) для информации о разработке
3. **Развертывание:** См. [Руководство по развертыванию](../deployment/production.md) для продакшн развертывания
4. **Вклад:** Просмотрите [Руководящие принципы участия](../developer-guide/contributing.md) для участия в проекте

## Получение помощи

Если вы столкнулись с проблемами:

- Проверьте [руководство по устранению неполадок](../user-guide/troubleshooting.md)
- Поищите в [GitHub Issues](https://github.com/iloncka-ds/culicidaelab-server/issues)
- Задайте вопросы в [GitHub Discussions](https://github.com/iloncka-ds/culicidaelab-server/discussions)
- Свяжитесь с командой по адресу [contact@culicidaelab.org](mailto:contact@culicidaelab.org)
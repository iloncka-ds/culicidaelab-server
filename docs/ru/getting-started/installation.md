---
tags:
  - настройка
  - установка
  - требования
  - начало-работы
---

# Установка

Это руководство поможет вам установить и настроить CulicidaeLab Server на вашей локальной машине или серверной среде.

## Системные требования

### Аппаратные требования

- **Процессор (CPU):** Любой современный x86-64 процессор
- **Память (RAM):** Минимум 2 ГБ, рекомендуется 8 ГБ или больше для больших наборов данных
- **Видеокарта (GPU):** Рекомендуется NVIDIA GPU с поддержкой CUDA для операций с ИИ моделями (минимум 2 ГБ VRAM, рекомендуется 4 ГБ+)
- **Хранилище:** Минимум 10 ГБ свободного места для установки, зависимостей и данных

### Программные требования

**Операционные системы (протестированы):**
- Windows 10/11
- Linux 22.04+

**Необходимое программное обеспечение:**
- Git
- Python 3.11
- uv 0.8.13 (рекомендуется) или pip
- Для Linux: пакет `libgl1`

## Методы установки

### Метод 1: Использование uv (Рекомендуется)

[uv](https://docs.astral.sh/uv/) - это быстрый менеджер пакетов Python, который обеспечивает лучшее разрешение зависимостей и более быструю установку.

1. **Установите uv** (если еще не установлен):
   ```bash
   # На macOS и Linux
   curl -LsSf https://astral.sh/uv/install.sh | sh
   
   # На Windows
   powershell -c "irm https://astral.sh/uv/install.ps1 | iex"
   ```

2. **Клонируйте репозиторий:**
   ```bash
   git clone https://github.com/iloncka-ds/culicidaelab-server.git
   cd culicidaelab-server
   ```

3. **Создайте виртуальную среду и установите зависимости:**
   ```bash
   uv venv -p 3.11
   source .venv/bin/activate  # На Windows: .venv\Scripts\activate
   uv sync -p 3.11
   uv pip install -e .
   uv cache clean
   ```

### Метод 2: Использование pip

1. **Клонируйте репозиторий:**
   ```bash
   git clone https://github.com/iloncka-ds/culicidaelab-server.git
   cd culicidaelab-server
   ```

2. **Создайте виртуальную среду и установите зависимости:**
   ```bash
   python -m venv .venv
   source .venv/bin/activate  # На Windows: .venv\Scripts\activate
   python -m pip install -e .
   python -m pip cache purge
   ```

## Настройка после установки

### 1. Генерация примеров данных

Создайте JSON/GeoJSON файлы для первоначального заполнения базы данных:

```bash
python -m backend.data.sample_data.generate_sample_data
```

Это создает примеры файлов в директории `sample_data/`, включая:
- `sample_species.json`
- `sample_observations.geojson`
- `sample_diseases.json`

### 2. Инициализация базы данных

Настройте таблицы LanceDB и заполните их примерами данных:

```bash
python -m backend.scripts.populate_lancedb
```

### 3. Проверка установки

Проверьте, была ли база данных успешно заполнена:

```bash
python -m backend.scripts.query_lancedb observations --limit 5
```

## Конфигурация окружения

### Конфигурация бэкенда

Создайте файл `.env` в директории `backend/` с вашей конфигурацией:

```bash
# Скопируйте пример конфигурации
cp backend/.env.example backend/.env
```

Отредактируйте файл `.env` в соответствии с настройками вашего окружения.

### Конфигурация фронтенда

Конфигурация фронтенда обрабатывается в `frontend/config.py`. Просмотрите и измените по необходимости для вашего развертывания.

## Устранение неполадок

### Распространенные проблемы

**Проблемы с GPU/CUDA:**
- Убедитесь, что драйверы NVIDIA установлены и обновлены
- Проверьте совместимость CUDA с вашей видеокартой
- Для работы только на CPU система автоматически переключится на резервный режим

**Проблемы с правами доступа в Linux:**
- Убедитесь, что у вас есть соответствующие права для директории установки
- Установите пакет `libgl1`: `sudo apt-get install libgl1-mesa-glx`

**Проблемы с версией Python:**
- Убедитесь, что Python 3.11 установлен и активен
- Используйте `python --version` для проверки

**Проблемы с памятью:**
- Увеличьте системную RAM или используйте меньшие размеры батчей
- Рассмотрите использование режима только CPU для меньшего потребления памяти

### Получение помощи

Если вы столкнулись с проблемами во время установки:

1. Проверьте [GitHub Issues](https://github.com/iloncka-ds/culicidaelab-server/issues) на похожие проблемы
2. Просмотрите [руководство по устранению неполадок](../user-guide/troubleshooting.md)
3. Присоединитесь к обсуждению в [GitHub Discussions](https://github.com/iloncka-ds/culicidaelab-server/discussions)

## Следующие шаги

После успешной установки перейдите к [Руководству по быстрому старту](quick-start.md), чтобы узнать, как запускать и использовать CulicidaeLab Server.
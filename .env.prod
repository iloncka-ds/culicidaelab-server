# Production Environment Configuration for CulicidaeLab Docker Deployment
# This file contains production-specific environment variables for the Docker Compose setup

# =============================================================================
# SSL/TLS Configuration
# =============================================================================
# Primary domain name for SSL certificate generation and nginx configuration
DOMAIN_NAME=your-domain.com

# Email address for Let's Encrypt certificate registration and notifications
CERTBOT_EMAIL=admin@your-domain.com

# =============================================================================
# Backend Application Configuration
# =============================================================================
# Database path within the container (mounted to persistent volume)
CULICIDAELAB_DATABASE_PATH=/app/data/culicidaelab.db

# Enable saving of predicted images in production for analysis
CULICIDAELAB_SAVE_PREDICTED_IMAGES=true

# CORS origins - should match your production domain with HTTPS
CULICIDAELAB_BACKEND_CORS_ORIGINS=https://your-domain.com

# Application environment setting
ENVIRONMENT=production

# =============================================================================
# Frontend Application Configuration
# =============================================================================
# Backend URL for frontend to communicate with API (internal Docker network)
BACKEND_URL=http://backend:8000

# =============================================================================
# Security Configuration
# =============================================================================
# SSL certificate paths (managed by Certbot)
SSL_CERT_PATH=/etc/letsencrypt/live/your-domain.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/your-domain.com/privkey.pem

# =============================================================================
# Logging Configuration
# =============================================================================
# Log level for production (ERROR, WARN, INFO, DEBUG)
LOG_LEVEL=INFO

# Enable structured JSON logging in production
JSON_LOGGING=true

# =============================================================================
# Performance Configuration
# =============================================================================
# Number of worker processes for backend (adjust based on CPU cores)
WORKERS=2

# Maximum number of concurrent connections
MAX_CONNECTIONS=1000

# =============================================================================
# Backup Configuration
# =============================================================================
# Backup retention period in days
BACKUP_RETENTION_DAYS=30

# Backup schedule (cron format)
BACKUP_SCHEDULE="0 2 * * *"

# =============================================================================
# Monitoring Configuration
# =============================================================================
# Health check intervals (in seconds)
HEALTH_CHECK_INTERVAL=30

# Health check timeout (in seconds)
HEALTH_CHECK_TIMEOUT=10

# =============================================================================
# Data Persistence Configuration
# =============================================================================
# Host paths for persistent data (adjust according to your server setup)
DATA_HOST_PATH=/var/lib/culicidaelab/data
CERTS_HOST_PATH=/etc/letsencrypt
STATIC_HOST_PATH=/var/lib/culicidaelab/static

# =============================================================================
# Network Configuration
# =============================================================================
# Docker network subnet for production
NETWORK_SUBNET=172.20.0.0/16

# =============================================================================
# Resource Limits
# =============================================================================
# Backend resource limits
BACKEND_CPU_LIMIT=1.0
BACKEND_MEMORY_LIMIT=1G
BACKEND_CPU_RESERVATION=0.5
BACKEND_MEMORY_RESERVATION=512M

# Frontend resource limits
FRONTEND_CPU_LIMIT=0.5
FRONTEND_MEMORY_LIMIT=512M
FRONTEND_CPU_RESERVATION=0.25
FRONTEND_MEMORY_RESERVATION=256M

# Nginx resource limits
NGINX_CPU_LIMIT=0.5
NGINX_MEMORY_LIMIT=256M
NGINX_CPU_RESERVATION=0.1
NGINX_MEMORY_RESERVATION=128M
